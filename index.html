<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LA MUNDO DOS SABORES</title>

  <!--
    Aqui está o "código completo" que mantém a ESTRUTURA e LAYOUT do seu "código antigo" (multiplas telas, .tela divs),
    mas com as alterações e funcionalidades do "código atual":

    - Tela inicial com Menu (Cardápio, Ver Pedidos, Informações)
    - Ao clicar em Cardápio, carrega tela de categorias (Pizzas + Outras)
    - Se for Pizzas, abre tela de Subcategorias
    - Subcategoria -> Tela de Produtos com busca
    - "Meio a Meio" -> valor da pizza é SEMPRE o da metade mais cara
    - Carrinho e Envio WhatsApp funcionando
    - "Enviar Pedido" só habilitado se houver itens
    - Lixeira removida
  -->

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }

    body {
      background-color: #fdf6f0;
      color: #333;
    }

    header {
      background-color: #d62828;
      padding: 20px;
      text-align: center;
      color: white;
      font-size: 1.8em;
      font-weight: bold;
    }

    /* Menu Inicial */
    nav {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
      margin: 30px 0;
    }

    button {
      padding: 15px 25px;
      font-size: 1.1em;
      border: none;
      border-radius: 10px;
      background-color: #f77f00;
      color: white;
      cursor: pointer;
      width: 80%;
      max-width: 300px;
      transition: background 0.3s;
    }

    button:disabled {
      background-color: #999;
      cursor: not-allowed;
    }

    button:hover {
      background-color: #c75700;
    }

    .tela {
      display: none;
      padding: 20px;
      text-align: center;
    }

    .active {
      display: block;
    }

    .categorias, .subcategorias {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    .categorias button, .subcategorias button {
      background-color: #003049;
    }

    /* Tela de Produtos */
    #produtos {
      max-width: 500px;
      margin: 0 auto;
    }

    #busca {
      width: 90%;
      padding: 10px;
      margin-bottom: 15px;
      border: 2px solid #ccc;
      border-radius: 8px;
      font-size: 1em;
    }

    .produto {
      background: white;
      border-radius: 10px;
      padding: 15px;
      margin: 10px 0;
      text-align: left;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
      cursor: pointer;
    }

    .produto h3 {
      color: #d62828;
      margin-bottom: 5px;
    }

    .produto p {
      color: #333;
      margin-bottom: 5px;
    }

    .produto .preco {
      color: #d62828;
      font-weight: bold;
      float: right;
    }

    /* Tela de Detalhes */
    #detalhes {
      max-width: 500px;
      margin: 0 auto;
      text-align: left;
    }

    #detalhes .detalhes-container {
      background: white;
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
    }

    #detalhes h2 {
      margin-bottom: 10px;
      color: #d62828;
      text-align: center;
    }

    .quantidade {
      display: flex;
      align-items: center;
      margin-top: 10px;
      margin-bottom: 10px;
    }

    .quantidade button {
      background-color: #003049;
      margin: 0 10px;
      width: 40px;
    }

    .quantidade span {
      font-size: 1.2em;
      width: 30px;
      text-align: center;
    }

    .opcoes {
      margin-top: 10px;
      margin-bottom: 10px;
    }

    .opcoes label {
      margin-right: 10px;
    }

    .observacao {
      width: 100%;
      height: 60px;
      resize: none;
      margin-bottom: 10px;
      border-radius: 8px;
      border: 2px solid #ccc;
      padding: 8px;
      font-size: 1em;
    }

    .total {
      font-size: 1.2em;
      color: #d62828;
      font-weight: bold;
      text-align: right;
      margin-bottom: 15px;
    }

    /* Tela de Pedidos */
    #pedidos {
      max-width: 500px;
      margin: 0 auto;
      text-align: left;
    }

    .pedido-item {
      background: white;
      border-radius: 10px;
      padding: 15px;
      margin: 10px 0;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
      position: relative;
    }

    .pedido-item h4 {
      color: #d62828;
      margin-bottom: 5px;
    }

    .pedido-total {
      margin-top: 15px;
      font-size: 1.2em;
      font-weight: bold;
      text-align: right;
      color: #d62828;
    }

    /* Botões na tela de pedidos */
    .botoes-pedidos {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <header>LA MUNDO DOS SABORES</header>

  <!-- Menu Inicial -->
  <nav id="menuInicial">
    <button onclick="mostrarTela('cardapio')">Cardápio</button>
    <button onclick="mostrarTela('pedidos')">Ver Pedidos</button>
    <button onclick="mostrarTela('informacoes')">Informações</button>
  </nav>

  <!-- Tela de Categorias -->
  <div id="cardapio" class="tela">
    <div class="categorias">
      <h2>Escolha uma categoria:</h2>
      <!-- Pizzas abre subcategorias -->
      <button onclick="mostrarSubcategorias('Pizzas')">Pizzas</button>
      <!-- Outras categorias -->
      <button onclick="mostrarProdutosGenerico('Hambúrgueres')">Hambúrgueres</button>
      <button onclick="mostrarProdutosGenerico('Pastéis')">Pastéis</button>
      <button onclick="mostrarProdutosGenerico('Esfihas')">Esfihas</button>
      <button onclick="mostrarProdutosGenerico('Açaí')">Açaí</button>
      <button onclick="mostrarProdutosGenerico('Gelados')">Gelados</button>
      <button onclick="voltarMenu()">Voltar</button>
    </div>
  </div>

  <!-- Tela de Subcategorias (para Pizzas) -->
  <div id="subcategorias" class="tela">
    <div class="subcategorias">
      <h2 id="tituloSubcategoria"></h2>
      <button onclick="mostrarProdutosPizzas('Salgadas')">Salgadas</button>
      <button onclick="mostrarProdutosPizzas('Doces')">Doces</button>
      <button onclick="mostrarProdutosPizzas('Especiais')">Especiais</button>
      <button onclick="mostrarProdutosPizzas('Premium')">Premium</button>
      <button onclick="mostrarTela('cardapio')">Voltar</button>
    </div>
  </div>

  <!-- Tela de Produtos -->
  <div id="produtos" class="tela">
    <h2 id="tituloCategoria"></h2>
    <input type="text" id="busca" placeholder="Buscar por nome..." oninput="filtrarProdutos()"/>
    <div id="listaProdutos"></div>
    <br>
    <!-- Voltar -->
    <button onclick="mostrarTela('subcategorias')">Voltar às Subcategorias</button>
  </div>

  <!-- Tela de Detalhes do Produto -->
  <div id="detalhes" class="tela">
    <div class="detalhes-container">
      <h2 id="detalhesTitulo"></h2>
      <p id="detalhesDescricao"></p>
      <div class="quantidade">
        <label>Quantidade:</label>
        <button onclick="alterarQuantidade(-1)">-</button>
        <span id="quantidadeValor">1</span>
        <button onclick="alterarQuantidade(1)">+</button>
      </div>
      <div class="opcoes">
        <label>
          <input type="radio" name="opcaoPizza" value="Inteira" checked onchange="mudarTipoPizza()"/>
          Inteira
        </label>
        <label>
          <input type="radio" name="opcaoPizza" value="Meio a Meio" onchange="mudarTipoPizza()"/>
          Meio a Meio
        </label>
      </div>
      <textarea class="observacao" id="observacao" placeholder="Alguma observação?"></textarea>
      <div class="total" id="precoTotal"></div>
      <button id="botaoAcao" onclick="acaoDetalhes()">Adicionar ao Pedido</button>
    </div>
    <br>
    <button onclick="voltarParaProdutos()">Voltar</button>
  </div>

  <!-- Tela de Pedidos -->
  <div id="pedidos" class="tela">
    <h2>Seus pedidos</h2>
    <div id="listaPedidos"></div>
    <div class="pedido-total" id="pedidoTotal"></div>

    <div class="botoes-pedidos">
      <button onclick="adicionarMais()">Adicionar Mais</button>
      <button id="botaoEnviar" onclick="enviarPedido()" disabled>Enviar Pedido</button>
      <button onclick="voltarMenu()">Voltar</button>
    </div>
  </div>

  <!-- Tela de Informações -->
  <div id="informacoes" class="tela">
    <h2>Informações</h2>
    <p>Endereço: Rua das Delícias, 123 - Jucati</p>
    <p>Telefone: (87) 99999-9999</p>
    <p>Horário de funcionamento: 18h às 23h</p>
    <br>
    <button onclick="voltarMenu()">Voltar</button>
  </div>

  <script>
    // Array global para armazenar o carrinho
    let carrinho = [];

    // Armazenar item selecionado e subcategoria atual
    let produtoSelecionado = null;
    let quantidadeSelecionada = 1;
    let precoBase = 0;
    let subcategoriaAtual = '';

    // Controle para pizzas meio a meio
    let isSelecionandoSegundaMetade = false;
    let primeiraMetade = null;

    // Base de produtos + Outras Categorias!
    const produtosPizzas = {
      'Salgadas': [
        { codigo: '19', nome: '4 Queijos', preco: 40.00, desc: 'Molho, muçarela, catupiry, cheddar, parmesão e orégano' },
        { codigo: '13', nome: 'Americana', preco: 40.00, desc: 'Molho, muçarela, presunto, ovo, cebola e orégano' },
        { codigo: '01', nome: 'Atum', preco: 42.00, desc: 'Molho, muçarela, atum, cebola e orégano' },
        { codigo: '14', nome: 'Bacon', preco: 45.00, desc: 'Molho, muçarela, bacon, cebola e orégano' },
        { codigo: '15', nome: 'Bacon c/ Catupiry', preco: 48.00, desc: 'Molho, muçarela, bacon, catupiry e orégano' },
        { codigo: '25', nome: 'Baiana', preco: 40.00, desc: 'Molho, muçarela, presunto, calabresa, pimenta, pimentão, cebola e orégano' },
        { codigo: '06', nome: 'Calabresa', preco: 38.00, desc: 'Molho, muçarela, calabresa, cebola e orégano' }
      ],
      'Doces': [
        { codigo: '100', nome: 'Chocolate', preco: 36.00, desc: 'Chocolate ao leite, granulados e muçarela' },
        { codigo: '101', nome: 'Prestígio', preco: 38.00, desc: 'Chocolate, coco ralado e muçarela' },
        { codigo: '102', nome: 'Romeu e Julieta', preco: 35.00, desc: 'Goiabada e muçarela' }
      ],
      'Especiais': [
        { codigo: '200', nome: 'Camarão Especial', preco: 55.00, desc: 'Molho, muçarela, camarão, catupiry, alho e orégano' },
        { codigo: '201', nome: 'Mexicana', preco: 50.00, desc: 'Molho, muçarela, pimenta jalapeño, calabresa, cebola e orégano' }
      ],
      'Premium': [
        { codigo: '300', nome: 'Trufada', preco: 60.00, desc: 'Molho, muçarela especial, creme trufado e orégano' },
        { codigo: '301', nome: 'Parma', preco: 65.00, desc: 'Molho, muçarela, presunto parma, rúcula e orégano' }
      ],
      // Outras Categorias
      'Hambúrgueres': [
        { codigo: 'HB01', nome: 'Cheese Burger', preco: 18.00, desc: 'Hambúrguer bovino, queijo, alface, tomate e molho especial' },
        { codigo: 'HB02', nome: 'Bacon Burger', preco: 20.00, desc: 'Hambúrguer bovino, queijo, bacon, alface, tomate e molho especial' },
        { codigo: 'HB03', nome: 'Egg Burger', preco: 19.00, desc: 'Hambúrguer bovino, queijo, ovo, alface e molho especial' }
      ],
      'Pastéis': [
        { codigo: 'PT01', nome: 'Pastel de Carne', preco: 8.00, desc: 'Pastel recheado com carne moída e temperos especiais' },
        { codigo: 'PT02', nome: 'Pastel de Queijo', preco: 8.00, desc: 'Pastel recheado com queijo muçarela' }
      ],
      'Esfihas': [
        { codigo: 'EF01', nome: 'Esfiha de Carne', preco: 5.00, desc: 'Esfiha recheada com carne moída' },
        { codigo: 'EF02', nome: 'Esfiha de Frango', preco: 6.00, desc: 'Esfiha recheada com frango desfiado' }
      ],
      'Açaí': [
        { codigo: 'AC01', nome: 'Açaí 300ml', preco: 12.00, desc: 'Açaí puro com acompanhamentos a escolher' },
        { codigo: 'AC02', nome: 'Açaí 500ml', preco: 18.00, desc: 'Açaí puro com acompanhamentos a escolher' }
      ],
      'Gelados': [
        { codigo: 'GL01', nome: 'Sorvete Casquinha', preco: 5.00, desc: 'Casquinha crocante com sorvete de baunilha' },
        { codigo: 'GL02', nome: 'Milkshake 400ml', preco: 10.00, desc: 'Milkshake de chocolate ou morango' }
      ]
    };

    // Função para exibir uma tela específica e ocultar as outras
    function mostrarTela(id) {
      document.getElementById('menuInicial').style.display = 'none';
      const telas = document.querySelectorAll('.tela');
      telas.forEach(tela => tela.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    // Voltar ao menu inicial
    function voltarMenu() {
      const telas = document.querySelectorAll('.tela');
      telas.forEach(tela => tela.classList.remove('active'));
      document.getElementById('menuInicial').style.display = 'flex';
    }

    // Exibir subcategorias de Pizzas ou abrir produtos p/ outras categorias
    function mostrarSubcategorias(categoria) {
      if (categoria === 'Pizzas') {
        document.getElementById('tituloSubcategoria').innerText = 'Pizzas - Subcategorias';
        mostrarTela('subcategorias');
      } else {
        // Se não for pizzas
        mostrarProdutosGenerico(categoria);
      }
    }

    function mostrarProdutosPizzas(subcat) {
      subcategoriaAtual = subcat;
      document.getElementById('tituloCategoria').innerText = 'Pizzas ' + subcat;
      document.getElementById('busca').value = '';
      atualizarListaProdutos();
      mostrarTela('produtos');
    }

    // Exibir produtos genéricos (sem subcategorias)
    function mostrarProdutosGenerico(cat) {
      subcategoriaAtual = cat;
      document.getElementById('tituloCategoria').innerText = cat;
      document.getElementById('busca').value = '';
      atualizarListaProdutos();
      mostrarTela('produtos');
    }

    // Voltar dentro da tela de Produtos
    function voltarParaProdutos() {
      mostrarTela('produtos');
    }

    // Voltar subcategorias
    function voltarSubcats() {
      // Se for pizza, volta subcats, senão volta categorias
      const pizzaCats = ['Salgadas','Doces','Especiais','Premium'];
      if (pizzaCats.includes(subcategoriaAtual)) {
        mostrarTela('subcategorias');
      } else {
        mostrarTela('cardapio');
      }
    }

    // Buscar produtos
    function filtrarProdutos() {
      atualizarListaProdutos();
    }

    // Atualiza a lista de produtos
    function atualizarListaProdutos() {
      const busca = document.getElementById('busca').value.toLowerCase();
      const lista = document.getElementById('listaProdutos');
      lista.innerHTML = '';

      let listaSubcat = produtosPizzas[subcategoriaAtual] || [];

      if (busca.trim() !== '') {
        const matched = [];
        const others = [];
        listaSubcat.forEach(prod => {
          const nomeLower = prod.nome.toLowerCase();
          if (nomeLower.includes(busca)) {
            matched.push(prod);
          } else {
            others.push(prod);
          }
        });
        listaSubcat = [...matched, ...others];
      }

      listaSubcat.forEach(prod => {
        const item = document.createElement('div');
        item.classList.add('produto');
        item.innerHTML = `
          <h3>${prod.codigo} ${prod.nome} <span class="preco">R$ ${prod.preco.toFixed(2)}</span></h3>
          <p>${prod.desc}</p>
        `;
        item.onclick = () => produtoClicado(prod);
        lista.appendChild(item);
      });
    }

    // Ao clicar em um produto
    function produtoClicado(prod) {
      // Verifica se é pizza e se estamos escolhendo outra metade
      const pizzaCats = ['Salgadas','Doces','Especiais','Premium'];
      if (pizzaCats.includes(subcategoriaAtual)) {
        if (isSelecionandoSegundaMetade) {
          montarMeioAMeio(primeiraMetade, prod);
        } else {
          mostrarDetalhesPizza(prod);
        }
      } else {
        // Item comum
        mostrarDetalhesGenerico(prod);
      }
    }

    function mostrarDetalhesPizza(prod) {
      produtoSelecionado = prod;
      quantidadeSelecionada = 1;
      precoBase = prod.preco;

      document.getElementById('detalhesTitulo').innerText = `${prod.codigo} ${prod.nome}`;
      document.getElementById('detalhesDescricao').innerText = prod.desc;
      document.getElementById('quantidadeValor').innerText = '1';
      document.getElementById('observacao').value = '';

      // Mostra opções (Inteira/Meio a Meio)
      document.querySelector('.opcoes').style.display = 'block';

      // Marca "Inteira"
      const radios = document.getElementsByName('opcaoPizza');
      radios.forEach(r => {
        r.checked = (r.value === 'Inteira');
      });

      isSelecionandoSegundaMetade = false;
      primeiraMetade = null;

      atualizarTotal();
      document.getElementById('botaoAcao').textContent = 'Adicionar ao Pedido';
      mostrarTela('detalhes');
    }

    function mostrarDetalhesGenerico(prod) {
      produtoSelecionado = prod;
      quantidadeSelecionada = 1;
      precoBase = prod.preco;

      document.getElementById('detalhesTitulo').innerText = `${prod.codigo} ${prod.nome}`;
      document.getElementById('detalhesDescricao').innerText = prod.desc;
      document.getElementById('quantidadeValor').innerText = '1';
      document.getElementById('observacao').value = '';

      // Esconde opções de pizza
      document.querySelector('.opcoes').style.display = 'none';

      atualizarTotal();
      document.getElementById('botaoAcao').textContent = 'Adicionar ao Pedido';
      mostrarTela('detalhes');
    }

    // Altera quantidade
    function alterarQuantidade(v) {
      quantidadeSelecionada += v;
      if (quantidadeSelecionada < 1) {
        quantidadeSelecionada = 1;
      }
      document.getElementById('quantidadeValor').innerText = quantidadeSelecionada;
      atualizarTotal();
    }

    function mudarTipoPizza() {
      const radios = document.getElementsByName('opcaoPizza');
      let tipo = 'Inteira';
      radios.forEach(r => {
        if (r.checked) tipo = r.value;
      });

      if (tipo === 'Meio a Meio' && !produtoSelecionado.codigo.includes('+')) {
        document.getElementById('botaoAcao').textContent = 'Escolher outra metade';
      } else {
        document.getElementById('botaoAcao').textContent = 'Adicionar ao Pedido';
      }

      atualizarTotal();
    }

    function atualizarTotal() {
      const total = precoBase * quantidadeSelecionada;
      document.getElementById('precoTotal').innerText = `Total: R$ ${total.toFixed(2)}`;
    }

    // Principal botão da tela de detalhes
    function acaoDetalhes() {
      // Se for pizza ou não
      const pizzaCats = ['Salgadas','Doces','Especiais','Premium'];
      if (!pizzaCats.includes(subcategoriaAtual)) {
        // Item normal
        adicionarAoPedidoGenerico();
        return;
      }

      // Pizza
      const radios = document.getElementsByName('opcaoPizza');
      let tipoPizza = 'Inteira';
      radios.forEach(r => {
        if (r.checked) {
          tipoPizza = r.value;
        }
      });

      // Se "Meio a Meio" mas ainda não escolheu a segunda metade
      if (tipoPizza === 'Meio a Meio' && !produtoSelecionado.codigo.includes('+')) {
        primeiraMetade = produtoSelecionado;
        isSelecionandoSegundaMetade = true;
        mostrarTela('produtos');
      } else {
        adicionarAoPedidoPizza();
      }
    }

    // Monta pizza meio a meio => valor = da mais cara
    function montarMeioAMeio(metade1, metade2) {
      const displayNome = `${metade1.codigo} ${metade1.nome} + ${metade2.codigo} ${metade2.nome}`;
      const valorMaisCara = Math.max(metade1.preco, metade2.preco);

      produtoSelecionado = {
        codigo: displayNome,
        nome: displayNome,
        preco: valorMaisCara,
        desc: `${metade1.desc} | ${metade2.desc}`
      };
      precoBase = valorMaisCara;

      mostrarTela('detalhes');

      document.getElementById('detalhesTitulo').innerText = produtoSelecionado.codigo;
      document.getElementById('detalhesDescricao').innerText = produtoSelecionado.desc;

      // Força "Meio a Meio" marcado
      const radios = document.getElementsByName('opcaoPizza');
      radios.forEach(r => {
        r.checked = (r.value === 'Meio a Meio');
      });

      atualizarTotal();
      isSelecionandoSegundaMetade = false;
      primeiraMetade = null;

      document.getElementById('botaoAcao').textContent = 'Adicionar ao Pedido';
    }

    function adicionarAoPedidoPizza() {
      const radios = document.getElementsByName('opcaoPizza');
      let tipoPizza = 'Inteira';
      radios.forEach(r => {
        if (r.checked) {
          tipoPizza = r.value;
        }
      });
      const obs = document.getElementById('observacao').value;
      const precoFinal = precoBase * quantidadeSelecionada;

      let nomeFinal;
      if (produtoSelecionado.codigo.includes('+')) {
        nomeFinal = produtoSelecionado.codigo;
      } else {
        nomeFinal = `${produtoSelecionado.codigo} ${produtoSelecionado.nome}`;
      }

      const itemPedido = {
        nome: nomeFinal,
        quantidade: quantidadeSelecionada,
        tipo: tipoPizza,
        observacao: obs,
        precoFinal: precoFinal
      };

      carrinho.push(itemPedido);
      mostrarTela('pedidos');
      atualizarListaPedidos();
    }

    // Itens genéricos
    function adicionarAoPedidoGenerico() {
      const obs = document.getElementById('observacao').value;
      const precoFinal = precoBase * quantidadeSelecionada;

      const nomeFinal = `${produtoSelecionado.codigo} ${produtoSelecionado.nome}`;

      const itemPedido = {
        nome: nomeFinal,
        quantidade: quantidadeSelecionada,
        tipo: 'Normal',
        observacao: obs,
        precoFinal: precoFinal
      };

      carrinho.push(itemPedido);
      mostrarTela('pedidos');
      atualizarListaPedidos();
    }

    // Atualiza lista de pedidos
    function atualizarListaPedidos() {
      const container = document.getElementById('listaPedidos');
      container.innerHTML = '';

      const botaoEnviar = document.getElementById('botaoEnviar');
      if (carrinho.length === 0) {
        container.innerHTML = '<p>Nenhum pedido até agora.</p>';
        document.getElementById('pedidoTotal').innerText = '';
        botaoEnviar.disabled = true;
        return;
      } else {
        botaoEnviar.disabled = false;
      }

      let somaTotal = 0;
      carrinho.forEach((item, index) => {
        somaTotal += item.precoFinal;
        const div = document.createElement('div');
        div.classList.add('pedido-item');
        div.innerHTML = `
          <h4>(${index+1}) ${item.nome}</h4>
          <p>Quantidade: ${item.quantity}</p>
          <p>Tipo: ${item.tipo}</p>
          ${item.observacao ? `<p>Obs: ${item.observacao}</p>` : ''}
          <p>Total: R$ ${item.precoFinal.toFixed(2)}</p>
        `;
        div.innerHTML = div.innerHTML.replace('${item.quantity}', item.quantidade);
        container.appendChild(div);
      });

      document.getElementById('pedidoTotal').innerText = `Valor Total: R$ ${somaTotal.toFixed(2)}`;
    }

    // Botão "Adicionar Mais" -> volta pro cardapio
    function adicionarMais() {
      mostrarTela('cardapio');
    }

    // Botão "Enviar Pedido"
    function enviarPedido() {
      if (carrinho.length === 0) {
        alert('Nenhum pedido para enviar.');
        return;
      }

      let mensagem = 'Olá, gostaria de fazer o seguinte pedido:\n\n';
      let valorTotal = 0;

      carrinho.forEach((item, index) => {
        mensagem += `(${index+1}) ${item.nome} - ${item.tipo}\n` +
                    `Quantidade: ${item.quantidade}\n` +
                    `Total: R$ ${item.precoFinal.toFixed(2)}\n`;
        if (item.observacao) {
          mensagem += `Observação: ${item.observacao}\n`;
        }
        mensagem += '\n';
        valorTotal += item.precoFinal;
      });

      mensagem += `Valor Total: R$ ${valorTotal.toFixed(2)}\n`;
      mensagem += '\nObrigado!';

      const telefoneWhatsApp = '87920008169';
      const textoEncoded = encodeURIComponent(mensagem);
      const url = `https://api.whatsapp.com/send?phone=${telefoneWhatsApp}&text=${textoEncoded}`;
      window.open(url, '_blank');
    }
  </script>
</body>
</html>
